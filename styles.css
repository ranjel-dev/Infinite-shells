:root{
  --shellSize: clamp(78px, 11vw, 120px);
  --pearlSize: clamp(44px, 6vw, 64px);
}

body{
  margin:0;
  padding:14px;
  background:#0b0b10;
  color:#e8e8ef;
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

#hud{
  max-width:920px;
  margin:0 auto 12px;
  display:grid;
  gap:8px;
}

#scoreLine{ font-size:18px; }
#msg{ min-height:1.2em; }

#btnReset{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid #2c2c3a;
  background:#151522;
  color:#e8e8ef;
}

#board{
  width:min(920px, calc(100vw - 28px));
  aspect-ratio:16 / 9;
  margin:0 auto;
  border-radius:22px;
  border:1px solid #2c2c3a;
  position:relative;
  overflow:hidden;
  background:#151522;
  cursor:pointer;
}

#rotateOverlay{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:#0b0b10;
  z-index:2000;
}
@media (orientation:portrait){
  #rotateOverlay{ display:flex; }
}

/* ---------- SCREENS ---------- */
.screen{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:opacity 450ms ease;
}

.screen.show{
  opacity:1;
  pointer-events:auto;
}

/* Loading */
#loadingScreen{
  background:#ffffff;
  z-index:1000;
}
#loadingScreen img{
  max-width:80%;
  max-height:60%;
  object-fit:contain;
}

/* Title */
#titleScreen{
  background:#0b0b10;
  z-index:900;
}
#titleScreen img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* Game */
#shellLayer{ position:absolute; inset:0; z-index:10; }

.shell{
  position:absolute;
  width:var(--shellSize);
  height:var(--shellSize);
  bottom:26%;
  transform:translateX(-50%);
  background-size:contain;
  background-repeat:no-repeat;
  background-position:center;
  transition:left 220ms ease, transform 220ms ease;
}

.shell.lift{
  transform:translateX(-50%) translateY(-22px) scale(1.03);
}

#pearl{
  position:absolute;
  width:var(--pearlSize);
  height:var(--pearlSize);
  bottom:calc(26% + 18px);
  transform:translateX(-50%);
  opacity:0;
  transition:opacity 140ms ease;
  background-size:contain;
  background-repeat:no-repeat;
}

#overlay{
  position:absolute;
  inset:0;
  background:rgba(255,40,60,.22);
  opacity:0;
  transition:opacity 160ms ease;
}
#overlay.flash{ opacity:1; }

#recordText{
  position:absolute;
  top:18px;
  left:50%;
  transform:translateX(-50%);
  font-weight:800;
  color:#ffd54a;
  opacity:0;
  transition:opacity 250ms ease;
}
#recordText.show{ opacity:1; }